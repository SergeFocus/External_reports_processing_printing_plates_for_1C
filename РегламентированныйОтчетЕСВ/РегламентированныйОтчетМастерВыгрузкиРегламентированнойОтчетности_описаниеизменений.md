
В связи с выходом обновлений, для тех кто использует отчет по ЕСВ с выгрузкой в XML (публиковался ранее) выкладываю внешний подключаемый отчет  РегламентированныйОтчетМастерВыгрузкиРегламентированнойОтчетности на замену старому.

За основу полностью взят типовой (с последнего обновления) и внесеноc пару изменений. Без него Медок (вер.161) не принимает отчет 1ДФ. 
После обновления выгружаются пустые значения колонки 9 преобразованные в "0" в результате при загрузке в медок выдается ошибка..
В техподдержке медка сказали, что 0 или 1 - это когда корректировка иначе ничего не должно быть.

Поэтому вот такое исправление (кусок кода).
Было:
	ИначеЕсли ВРег(Тип) = ВРег("DGOzn")
		  ИЛИ ВРег(Тип) = ВРег("OznColumn") Тогда
		//<!--Загальний тип "Код 0/1 для ДРФО"-->
		Если НЕ ЗначениеЗаполнено(Значение) Тогда
			Результат = "0";
		ИначеЕсли ТипЗнч(Значение)=Тип("Строка") Тогда


Стало (как в версии до обновления):
	ИначеЕсли ВРег(Тип) = ВРег("DGOzn")
		  ИЛИ ВРег(Тип) = ВРег("OznColumn") Тогда
		//<!--Загальний тип "Код 0/1 для ДРФО"-->
		Если НЕ ЗначениеЗаполнено(Значение) Тогда
			//Результат = "0";
			Результат = "&НеЗаписывать";
			Возврат 1;
		ИначеЕсли ТипЗнч(Значение)=Тип("Строка") Тогда


Ещё одна найденая ошибка (если у физлица вместо кода ИНН вводится паспорт, то получаем ошибку формата при выгрузке)

Было:
			ИначеЕсли    СтрДлина(Результат) = 8
				// должен быть номер паспорта
				И(
				        Найти("АБВГДЕЄЖЗИІКЛМНОПРСТУФХЦЧШЩЮЯ",Сред(Результат,1,1)) = 0
					ИЛИ Найти("АБВГДЕЄЖЗИІКЛМНОПРСТУФХЦЧШЩЮЯ",Сред(Результат,2,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,3,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,4,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,5,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,6,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,7,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,8,1)) = 0
				 ) Тогда
					Контроль = 0;				               
			ИначеЕсли ВРег(Тип) = ВРег("DGNUMZO")


Стало:			
			ИначеЕсли    СтрДлина(Результат) = 8 Тогда
				// должен быть номер паспорта
				Если (
				        Найти("АБВГДЕЄЖЗИІКЛМНОПРСТУФХЦЧШЩЮЯ",Сред(Результат,1,1)) = 0
					ИЛИ Найти("АБВГДЕЄЖЗИІКЛМНОПРСТУФХЦЧШЩЮЯ",Сред(Результат,2,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,3,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,4,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,5,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,6,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,7,1)) = 0 
					ИЛИ Найти("0123456789",Сред(Результат,8,1)) = 0
				 ) Тогда
					Контроль = 0;
				КонецЕсли;
			ИначеЕсли ВРег(Тип) = ВРег("DGNUMZO")

